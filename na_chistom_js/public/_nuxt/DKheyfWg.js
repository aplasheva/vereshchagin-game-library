import{_ as x,t as n,v as o,x as t,y as m,J as w,r as c,E as U,o as Q,i as T,K as _,L as E,M as j,N as A,O as N,P as b,z as G}from"./7Mv_7yvR.js";const W={class:"game-card"},X=["src"],Y={class:"game-info"},Z={__name:"GameCard",props:{title:String,description:String,image:String},setup(h){return(v,d)=>(n(),o("div",W,[t("img",{class:"game-cover",src:h.image,alt:"Puzzle Card"},null,8,X),t("div",Y,[t("h1",null,m(h.title),1),t("p",null,m(h.description),1),t("button",{onClick:d[0]||(d[0]=f=>v.$emit("startGame"))},"Играть")])]))}},S=x(Z,[["__scopeId","data-v-1091f4ef"]]),ee=w("/images/tags/start-toggle.png"),te=w("/images/svg/basil_arrow-left-solid.svg"),se=w("/images/tags/end-toggle.png"),ae={class:"pyatnashki-container"},le={key:0,class:"slider-game"},ne={class:"top-bar"},oe={key:0,id:"moves",class:"moves"},ie={class:"game-title"},re=["src"],ce=["data-position","onClick"],ue=["src","data-index","alt"],ge={key:1,class:"empty-slot"},de={key:2,class:"number-circle"},me={key:1,class:"modal-overlay"},ve={class:"modal-content"},pe={class:"text-info"},_e=["src"],fe={key:2,class:"modal-overlay"},he={__name:"PyatnashkiGame",props:{selectedPicture:{type:Object,required:!0}},emits:["exitGame"],setup(h,{emit:v}){const d=h,f=()=>Math.floor(Math.random()*8)+1,C=e=>{let s=0;for(let a=0;a<e.length-1;a++)for(let r=a+1;r<e.length;r++)e[a]!==9&&e[r]!==9&&e[a]>e[r]&&s++;return s},P=e=>C(e)%2===0,k=()=>{const e=[];for(;e.length<8;){const s=f();e.includes(s)||e.push(s)}return e.push(9),e},y=()=>{let e;do e=k();while(!P(e));u.value=e,$.value=0},$=c(0),u=c([]),p=c(!1),g=c(!1),i=c(!1),l=c(null),M=v,I=c(!1);U(()=>d.selectedPicture,e=>{e&&(l.value=e,p.value=!0,y())},{immediate:!0}),Q(()=>{d.selectedPicture&&(l.value=d.selectedPicture,y(),p.value=!0)});const O=T(()=>e=>{const s=Math.floor(e/3),a=e%3;return`${s}_${a}`}),B=(e,s,a,r)=>e===s&&(r===a-1||r===a+1)||a===r&&(s===e-1||s===e+1),L=e=>{if(!p.value)return;u.value[e];const s=u.value.findIndex(K=>K===9),[a,r]=V(e),[z,J]=V(s);B(a,z,r,J)&&(R(e,s),$.value++,u.value.join("")==="123456789"&&setTimeout(()=>{p.value=!1,I.value=!0},1e3))},V=e=>[Math.floor(e/3),e%3],R=(e,s)=>{[u.value[e],u.value[s]]=[u.value[s],u.value[e]]},q=()=>{i.value=!i.value},D=()=>{g.value=!g.value},F=()=>{I.value=!1,y(),M("exitGame")},H=()=>{i.value=!1};return(e,s)=>(n(),o("div",ae,[p.value?(n(),o("div",le,[t("div",ne,[t("button",{onClick:q,class:"rules-button"},"Правила"),p.value?(n(),o("div",oe,m(`Ходы: ${$.value}`),1)):_("",!0),t("h1",ie,m(l.value.title),1),t("button",{onClick:D,class:"hint-button"},"Подсказка")]),t("div",{class:N(["container",{"show-hint":g.value}])},[g.value?(n(),o("img",{key:0,class:"original-image",src:l.value.hintImage,alt:"Original Image",draggable:"false",onContextmenu:s[0]||(s[0]=E(()=>{},["prevent"]))},null,40,re)):_("",!0),(n(!0),o(j,null,A(u.value,(a,r)=>(n(),o("div",{key:r,"data-position":O.value(r),onClick:z=>L(r),class:"image-container"},[a!==9?(n(),o("img",{key:0,src:`${l.value.piecesPath}${a}.png`,class:N(a===9?"target":""),"data-index":a,alt:`Part ${a}`,draggable:"false",onContextmenu:s[1]||(s[1]=E(()=>{},["prevent"]))},null,42,ue)):(n(),o("div",ge)),a!==9&&g.value?(n(),o("div",de,m(a),1)):_("",!0)],8,ce))),128))],2)])):_("",!0),I.value?(n(),o("div",me,[t("div",ve,[s[2]||(s[2]=t("h2",null,"Пятнашки собраны!",-1)),t("div",pe,[t("h3",null,m(l.value.title),1),t("p",null,m(l.value.info),1),t("p",null,m(l.value.location),1)]),t("img",{src:l.value.originalImage,alt:"Original Image",class:"modal-image"},null,8,_e),t("p",null,m(l.value.description),1),t("button",{style:{"margin-top":"10px"},onClick:F,class:"close-button"},"Закрыть")])])):_("",!0),i.value?(n(),o("div",fe,[t("div",{class:"modal-content"},[s[3]||(s[3]=t("h2",null,"Правила игры Пятнашки",-1)),s[4]||(s[4]=t("p",null,"Цель игры в пятнашки - расставить по местам все квадратики так, чтобы получилась изначальная картинка.",-1)),s[5]||(s[5]=t("ol",null,[t("li",null,"Игра состоит из 9 квадратиков. Один из них пустой. Необходимо переместить квадратики по одному, чтобы решить головоломку."),t("li",null,'Если картинку собрать сложно, можно включить "Подсказку" в правом верхнем углу игры. Данная опция отобразит изначальную картину на фоне и расставит цифры у квадратиков, которые необходимо разложить в порядке возрастания от 1 до 8.')],-1)),s[6]||(s[6]=t("div",{class:"modal-image"},[t("img",{class:"image-rules-toggle",src:ee,alt:"Start toggle"}),t("img",{class:"image-arrow",src:te,alt:"Arrow"}),t("img",{class:"image-rules-toggle",src:se,alt:"End toggle"})],-1)),t("button",{onClick:H,class:"close-button"},"Продолжить")])])):_("",!0)]))}},ke=x(he,[["__scopeId","data-v-26874860"]]),ye={key:0,class:"games-container"},$e={key:1},be={key:2,class:"modal"},Ce={key:3,class:"modal"},Ge={class:"modal-content"},Pe={class:"pictures-grid"},Ie=["onClick"],Se=["src","alt"],xe={__name:"index",setup(h){const v=c(!1),d=c(!1),f=c(!1),C=c(null),P=c([{id:1,title:"Белая лошадь. Этюд",image:"/images/tags/change/original-image-1.png",info:"1883 г., холст, масло, 28,5 x 36",location:"Рыбинский государственный музей-заповедник",originalImage:"/images/tags/tag-1/original-image.png",hintImage:"/images/tags/tag-1/original-image.png",piecesPath:"/images/tags/tag-1/image-part-00",description:`Композиционным центром этого этюда является изображение белой лошади с желтой гривой и желто-красным хвостом. На лошадь надеты красная уздечка и малиново-красное седло. Справа ее держит под уздцы араб. Он одет в национальные одежды: коричнево-розовые шаровары, просторную белую рубаху и оранжевую чалму. Лошадь и погонщик изображены на фоне каменистой пустыни, которую Верещагин написал с использованием желтых, серых и коричневых цветов, в некоторых местах добавив зеленые оттенки.

В классической живописи одной из самых сложных технических задач является получение чистого белого цвета из других красок.`},{id:2,title:"Самарканд",image:"/images/tags/change/original-image-2.png",info:"Около 1869 – 1870 гг., холст, масло, 43 х 51",location:"Серпуховский историко-художественный музей",originalImage:"/images/tags/tag-2/original-image.png",hintImage:"/images/tags/tag-2/original-image.png",piecesPath:"/images/tags/tag-2/image-part-00",description:"На полотне запечатлена знаменитая площадь Регистан перед медресе Улугбека. С древних времен Регистан считался центром города и главной базарной площадью. Произведение Верещагина иллюстрирует повседневную городскую жизнь. В лучах жаркого солнца открывается вид на небольшой рынок. Товар расположен зачастую просто на коврах под навесами, между ними ходят немногочисленные покупатели. Базар создает впечатление тихого и провинциального места, а медресе на заднем плане несет следы запустения и медленного разрушения. "}]),k=g=>{g==="pyatnashki"?f.value=!0:g==="working"&&(v.value=!1,d.value=!0)},y=()=>{console.log("Switching isGameStarted to false"),v.value=!1},$=g=>{C.value=g,f.value=!1,v.value=!0},u=()=>{f.value=!1},p=()=>{d.value=!1};return(g,i)=>(n(),o("div",null,[b(v)?(n(),o("div",$e,[G(ke,{selectedPicture:b(C),onExitGame:y},null,8,["selectedPicture"])])):(n(),o("div",ye,[G(S,{title:"Пазлы",description:"Соберите красивый пазл, чтобы получить одну из картин художника В.В. Верещагина.",image:"/images/games-cover/puzzle-cover.png",onStartGame:i[0]||(i[0]=l=>k("working"))}),G(S,{title:"Пятнашки",description:"Любите сложные головоломки? Попробуйте собрать пятнашки, чтобы получить одну из картин художника В.В. Верещагина.",image:"/images/games-cover/tag-cover.png",onStartGame:i[1]||(i[1]=l=>k("pyatnashki"))}),G(S,{title:"Название картин",description:"Насколько хорошо вы знаете картины художника В.В. Верещагина? Попробуйте угадать название картин по сериям!",image:"/images/games-cover/picture-name-cover.png",onStartGame:i[2]||(i[2]=l=>k("working"))})])),b(d)?(n(),o("div",be,[t("div",{class:"modal-content"},[i[3]||(i[3]=t("p",null,"Игра находится в разработке...",-1)),t("button",{style:{"margin-top":"0"},onClick:p},"ОК")])])):_("",!0),b(f)?(n(),o("div",Ce,[t("div",Ge,[i[4]||(i[4]=t("h3",null,"Выберите картину для сборки:",-1)),t("div",Pe,[(n(!0),o(j,null,A(b(P),l=>(n(),o("div",{key:l.id,class:"picture-card",onClick:M=>$(l)},[t("img",{src:l.image,alt:l.title},null,8,Se),t("p",null,m(l.title),1)],8,Ie))),128))]),t("button",{onClick:u},"Отмена")])])):_("",!0)]))}},Me=x(xe,[["__scopeId","data-v-15304197"]]);export{Me as default};
